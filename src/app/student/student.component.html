<div class="header  container " >

  <h4>Student Management</h4>

<button class="button-29" role="button" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="openModal('add')">Add User</button>




</div>

<div class="table-responsive container mt-5">
  
<table class="table " >
  <thead >
    <tr class="th" >
      <th scope="col">#</th>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <th scope="col">Mobile NO.</th>
      <th scope="col">Age</th>
      <th scope="col">Action</th>
    </tr>
  <tbody  >
   <tr *ngFor="let student of students; let i = index">
      <td scope="row" id="rownum">{{ i + 1 }}</td>
      <td>{{ student.name }}</td>
      <td>{{ student.email }}</td>
      <td>{{ student.mobile }}</td>
      <td>{{ student.age }}</td>
      <td class="formbtn">
         
            <button type="button" class="btn m-2 "   data-bs-toggle="modal" data-bs-target="#exampleModal1">
               <span class="material-symbols-outlined icon1 ">delete</span>
            </button>
            <button type="button" class="btn " (click)="editStudent(i)" (click)="openModal('edit')"  data-bs-toggle="modal" data-bs-target="#exampleModal">
               <span class="material-symbols-outlined icon2">edit_note</span>
            </button>
        <div>
          <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Student Data Delete Notification!!</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body float-start">
        Are you sure to delete this student data
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="deleteStudent(i)" >Yes</button>
      </div>
    </div>
  </div>
</div>
        </div>
      </td>
   </tr>
</tbody>

    
    
     
    
</table>

</div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" #myModal tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
  <div class="modal-dialog md text-light" >
    <div class="modal-content mdc">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Enter Student Details</h1>
        <button type="button" class="btn-close c" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
         <form  #stuForm="ngForm" (ngSubmit)="getData(stuForm.value) " novalidate class="form">
  <div class="row d-flex d">
 
      <div class="mb-3 col-md-6">
      <label for="name" class="form-label">Name</label>
      <input type="text" [(ngModel)]="modalData.name" required  id="name" name="name" class="form-control" placeholder="enter name" pattern="^[a-zA-Z]+$" >
      <span *ngIf="stuForm.controls['name'].invalid && (stuForm.controls['name'].dirty || stuForm.controls['name'].touched)" class="text-danger">
 <p> enter valid name</p>
</span>

   </div>
        <div class="mb-3 col-md-6">
  <label for="mobile" class="form-label">Mobile No.</label>
  <input type="text" [(ngModel)]="modalData.mobile" required maxlength="11"  pattern="^[0-9]+$" id="mobile" name="mobile" class="form-control" placeholder="Enter mobile no">
  <span *ngIf="stuForm.controls['mobile'].invalid && (stuForm.controls['mobile'].dirty || stuForm.controls['mobile'].touched)" class="text-danger">
    <p> enter a valid mobile number</p>
  </span>
</div>

   

    

 </div>
  <div class="row d-flex">
 
   
      <div class="mb-3 col-md-6">
  <label for="email" class="form-label">Email</label>
  <input type="text"  [(ngModel)]="modalData.email" ngModel required email id="email" name="email"  class="form-control" placeholder="Enter email" #email="ngModel">
  <span *ngIf="stuForm.controls['email'].invalid && (stuForm.controls['email'].dirty || stuForm.controls['email'].touched)" class="text-danger">
    <p> enter a valid email </p>
  </span>
     
</div>

  
      <div class="mb-3 col-md-6">
  <label for="age" class="form-label">Age</label>
  <input type="text" [(ngModel)]="modalData.age" required min="0" maxlength="2" id="age" pattern="^[0-9]+$" name="age" class="form-control" placeholder="Enter age">
  <span *ngIf="stuForm.controls['age'].invalid && (stuForm.controls['age'].dirty || stuForm.controls['age'].touched)" class="text-danger">
   <p> enter valid age</p>
  </span>
</div>

  
    
   </div>

    

 
  <div class="row d-flex">
 
       <div class="mb-3 col-md-6">
      <label for="class" class="form-label">Class</label>
      <input type="text" [(ngModel)]="modalData.class" required id="class" name="class" class="form-control" placeholder="enter class ">
      <span *ngIf="stuForm.controls['class'].invalid && (stuForm.controls['class'].dirty || stuForm.controls['class'].touched)" class="text-danger">
 <p> class is required</p>
</span>
   </div>
          <div class="mb-3 col-md-6">
      <label for="address" class="form-label">Address</label>
      <input type="text" [(ngModel)]="modalData.address" required id="address" name="address" class="form-control" placeholder="enter address ">
      <span *ngIf="stuForm.controls['address'].invalid && (stuForm.controls['address'].dirty || stuForm.controls['address'].touched)" class="text-danger">
 <p> address is required</p>
</span>
   </div>
    
   

    

 </div>

</form>
      </div>
      <div class="modal-footer mf">
    <button type="submit" (click)="getData(stuForm.value)"  class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close" [disabled]="stuForm.invalid">
     {{text}}
    </button>
    <button type="button" class="btn btn-primary" (click)="resetFormAndModal()">
      reset
    </button>
  </div>
    </div>
  </div>
</div>



<!-- Button trigger modal -->


<!-- Modal -->
